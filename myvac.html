<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تطبيق إجازاتي - طلال السريتي</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
         :root {
            --primary-bg: #f8f9fa;
            --header-gradient: linear-gradient(180deg, #ffedda 0%, #ffc891 100%);
            --row-blue: #70a9d4;
            --row-green: #a2d369;
            --border-color: #333;
            --accent-gold: #d4af37;
        }
        /* كلاس الحماية */
        
        .security-locked {
            user-select: none !important;
            -webkit-user-select: none !important;
            -moz-user-select: none !important;
            -ms-user-select: none !important;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
        }
        
        body {
            background-color: var(--primary-bg);
            padding: 20px;
            color: #222;
        }
        /* الهيدر والتنسيق العلوي */
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1000px;
            margin: 0 auto 30px;
        }
        
        .avatar-container {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid var(--accent-gold);
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .avatar-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .app-title-section {
            text-align: center;
        }
        
        .year-selector {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }
        
        .year-btn {
            background: var(--accent-gold);
            border: none;
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 20px;
            transition: 0.3s;
        }
        
        .year-btn:hover {
            background: #b8962d;
        }
        
        #currentYear {
            font-size: 40px;
            font-weight: bold;
            color: #333;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .copyright {
            color: #666;
            font-size: 14px;
            margin-top: 5px;
        }
        /* تصميم الجدول */
        
        .table-wrapper {
            max-width: 1000px;
            margin: 0 auto;
            overflow-x: auto;
            border: 2px solid var(--border-color);
            background: #fff;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            text-align: center;
        }
        
        th,
        td {
            border: 1px solid var(--border-color);
            padding: 10px 5px;
            font-weight: bold;
        }
        
        thead tr:first-child {
            background: var(--header-gradient);
        }
        
        .vertical-text {
            writing-mode: vertical-rl;
            transform: rotate(180deg);
            padding: 10px 0;
        }
        /* ألوان الصفوف كما في الصورة */
        
        tr.blue-row {
            background-color: var(--row-blue);
        }
        
        tr.green-row {
            background-color: var(--row-green);
        }
        
        .footer-note {
            max-width: 1000px;
            margin: 15px auto;
            background: #333;
            color: #fff;
            padding: 10px;
            font-size: 13px;
            text-align: right;
        }
    </style>
</head>

<body class="security-locked">

    <header>
        <div class="avatar-container">
            <img src="https://talalcer.github.io/fuel-img/mizan.png" alt="Company Logo">
        </div>

        <div class="app-title-section">
            <h1 style="font-size: 28px;">أيـام الأجـازات المسمـوح بهـا خلال عـام</h1>
            <div class="year-selector">
                <button class="year-btn" onclick="changeYear(-1)">❮</button>
                <span id="currentYear">2025</span>
                <button class="year-btn" onclick="changeYear(1)">❯</button>
            </div>
            <p class="copyright">الحقوق محفوظة طلال السريتي | Talal Cerity</p>
        </div>

        <div class="avatar-container">
            <img src="https://talalcer.github.io/fuel-img/talal512.png" alt="Talal Cerity">
        </div>
    </header>

    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th colspan="4" style="background: #fbd9b9;">أيام الأجازة المسموح بها</th>
                    <th rowspan="3" style="width: 80px;">عدد أيام العمل بالشهر</th>
                    <th rowspan="3" class="vertical-text">السبت</th>
                    <th rowspan="3" class="vertical-text">الجمعة</th>
                    <th rowspan="3" class="vertical-text">عدد أيام الشهر</th>
                    <th rowspan="3" style="width: 100px;">الشهر</th>
                </tr>
                <tr style="background: #e68f3f;">
                    <th>50%</th>
                    <th>70%</th>
                    <th>90%</th>
                    <th>100%</th>
                </tr>
                <tr style="background: #e68f3f;">
                    <th>10</th>
                    <th>13</th>
                    <th>15</th>
                    <th>17</th>
                </tr>
            </thead>
            <tbody id="vacationTableBody">
            </tbody>
        </table>
    </div>

    <div class="footer-note">
        ملاحظة: الأجازات الرسمية التي تأتي يومي الجمعة والسبت يتم السماح بيوم زيادة أجازة بدلاً منها في حالة عدم الحصول على يوم أجازة رسمية بديل.
    </div>

    <script>
        /**
         * كلاس الحماية: لإغلاق أدوات المطور والنسخ
         */
        class AppSecurity {
            constructor() {
                this.init();
            }

            init() {
                // منع القائمة اليمنى
                document.addEventListener('contextmenu', e => e.preventDefault());

                // منع الاختصارات (F12, Ctrl+Shift+I, Ctrl+U)
                document.addEventListener('keydown', e => {
                    if (
                        e.key === "F12" ||
                        (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) ||
                        (e.ctrlKey && e.key === "u")
                    ) {
                        e.preventDefault();
                        return false;
                    }
                });

                // منع التحديد (إضافي للـ CSS)
                document.addEventListener('selectstart', e => e.preventDefault());
            }
        }

        /**
         * محرك الحسابات وتوليد الجدول
         */
        const monthsAr = [
            "يناير", "فبراير", "مارس", "أبريل", "مايو", "يونيو",
            "يوليو", "أغسطس", "سبتمبر", "أكتوبر", "نوفمبر", "ديسمبر"
        ];

        let activeYear = new Date().getFullYear();

        function calculateMonthData(year, month) {
            let totalDays = new Date(year, month + 1, 0).getDate();
            let fridays = 0;
            let saturdays = 0;

            for (let d = 1; d <= totalDays; d++) {
                let dayOfWeek = new Date(year, month, d).getDay();
                if (dayOfWeek === 5) fridays++; // الجمعة
                if (dayOfWeek === 6) saturdays++; // السبت
            }

            let workDays = totalDays - (fridays + saturdays);

            return {
                totalDays,
                fridays,
                saturdays,
                workDays,
                v100: workDays - 17,
                v90: workDays - 15,
                v70: workDays - 13,
                v50: workDays - 10
            };
        }

        function renderTable() {
            document.getElementById('currentYear').innerText = activeYear;
            const tbody = document.getElementById('vacationTableBody');
            tbody.innerHTML = '';

            monthsAr.forEach((monthName, index) => {
                const data = calculateMonthData(activeYear, index);
                const row = document.createElement('tr');

                // التبديل بين ألوان الصفوف (أزرق وأخضر)
                row.className = (index % 2 === 0) ? 'green-row' : 'blue-row';

                row.innerHTML = `
                    <td>${data.v50}</td>
                    <td>${data.v70}</td>
                    <td>${data.v90}</td>
                    <td>${data.v100}</td>
                    <td>${data.workDays}</td>
                    <td>${data.saturdays}</td>
                    <td>${data.fridays}</td>
                    <td>${data.totalDays}</td>
                    <td style="color: #004d00; font-weight: bold;">${monthName}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function changeYear(offset) {
            activeYear += offset;
            renderTable();
        }

        // تشغيل التطبيق
        new AppSecurity();
        renderTable();
    </script>
</body>

</html>