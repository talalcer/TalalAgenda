<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أدوات المراجع | Auditor Tools</title>
    <link rel="manifest" href="https://talalcer.github.io/talal.json">
    <link rel="icon" type="image/x-icon" href="https://talalcer.github.io/fuel-img/auditorlogo.ico">
    <meta name="theme-color" content="#2c3e50">
    <meta name="description" content="منصة أدوات المراجع المحترف - طلال السريتي">

    <style>
         :root {
            --primary-bg: #f3f4f6;
            --header-bg: #ffffff;
            --card-bg: #ffffff;
            /*--text-main: #1f2937;*/
            --text-secondary: #6b7280;
            /*--accent-color: #2563eb;*/
            --text-main: #222;
            --accent-color: #4A90E2;
            /* أزرق نيون */
            /* أزرق احترافي */
            --accent-hover: #1d4ed8;
            --gold-accent: #f59e0b;
            --border-radius: 16px;
            --shadow-sm: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-glow: 0 0 15px rgba(37, 99, 235, 0.2);
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        * {
            box-sizing: border-box;
            user-select: none;
            /* منع تحديد النصوص */
            -webkit-user-select: none;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: var(--font-family);
            background-color: var(--primary-bg);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        /* --- Header Section (The Shop Sign) --- */
        
        header {
            background: var(--header-bg);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-sm);
            position: relative;
            z-index: 10;
        }
        /* ---- Popup overlay ---- */
        
        .popup-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.45);
            backdrop-filter: blur(6px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            animation: fadeIn 0.25s ease;
        }
        /* ---- Popup box ---- */
        
        .popup-box {
            background: rgba(255, 255, 255, 0.85);
            padding: 25px 35px;
            border-radius: 18px;
            width: 90%;
            max-width: 380px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
            animation: popupUp 0.35s ease;
        }
        /* ---- Buttons ---- */
        
        .popup-actions {
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            gap: 12px;
        }
        
        .popup-actions button {
            flex: 1;
            padding: 12px 0;
            border-radius: 12px;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 700;
            transition: 0.25s;
        }
        /* Yes button */
        
        #popupYes {
            background: #4CAF50;
            color: white;
        }
        
        #popupYes:hover {
            background: #43a047;
        }
        /* No button */
        
        #popupNo {
            background: #e0e0e0;
            color: #333;
        }
        
        #popupNo:hover {
            background: #d5d5d5;
        }
        /* Animations */
        
        @keyframes popupUp {
            from {
                transform: translateY(35px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        /* Logo and Profile Area */
        
        .logo-area,
        .profile-area {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /* Logo Styling */
        
        .logo-img {
            max-width: 100%;
            height: auto;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }
        /* Profile Picture Styling */
        
        .profile-img {
            width: 75px;
            height: 75px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--gold-accent);
            box-shadow: 0 0 10px rgba(245, 158, 11, 0.4);
            transition: transform 0.3s ease;
        }
        
        .profile-img:hover {
            transform: scale(1.1) rotate(5deg);
        }
        /* The Shop Sign Title */
        /* ===== Modern Glass Sign ===== */
        
        .shop-sign {
            /* الخصائص الجديدة للترتيب */
            display: flex;
            /* تفعيل الفلكس بوكس */
            align-items: center;
            /* محاذاة عمودية في المنتصف */
            justify-content: center;
            /* محاذاة أفقية في المنتصف */
            gap: 15px;
            /* مسافة بين الصورة والكلام */
            width: fit-content;
            margin: auto;
            padding: 18px 40px;
            border-radius: 18px;
            backdrop-filter: blur(12px) saturate(180%);
            -webkit-backdrop-filter: blur(12px) saturate(180%);
            background: rgba(255, 255, 255, 0.35);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15), 0 0 25px var(--accent-color);
            text-align: center;
            transition: 0.35s ease;
            cursor: pointer;
        }
        /* تنسيق الصورة الجديدة */
        
        .sign-logo {
            width: 60px;
            /* عرض الصورة - يمكنك تغييره حسب الحاجة */
            height: auto;
            /* الحفاظ على الأبعاد */
            object-fit: contain;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
            /* ظل خفيف للصورة */
        }
        /* Hover – lift + neon glow */
        
        .shop-sign:hover {
            transform: translateY(-6px) scale(1.03);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.20), 0 0 40px var(--accent-color), 0 0 15px var(--accent-color);
        }
        /* Title */
        
        .shop-sign h1 {
            margin: 0;
            font-size: 2rem;
            font-weight: 900;
            color: var(--text-main);
            letter-spacing: -0.6px;
            text-shadow: 0 2px 3px rgba(0, 0, 0, 0.15);
        }
        /* Subtitle */
        
        .shop-sign span {
            margin-top: 4px;
            font-size: 0.9rem;
            letter-spacing: 2px;
            color: var(--accent-color);
            font-weight: 700;
            text-transform: uppercase;
        }
        
        main {
            flex: 1;
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        
        .apps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        /* --- App Card Design --- */
        
        .app-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
        }
        
        .app-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--accent-color);
            transform: scaleX(0);
            transition: transform 0.4s ease;
            transform-origin: left;
        }
        
        .app-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-md);
        }
        
        .app-card:hover::before {
            transform: scaleX(1);
        }
        
        .card-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            background: #f0f7ff;
            width: 80px;
            height: 80px;
            line-height: 80px;
            border-radius: 50%;
            margin-left: auto;
            margin-right: auto;
            color: var(--accent-color);
            transition: transform 0.3s;
        }
        
        .app-card:hover .card-icon {
            transform: rotateY(180deg);
            background: var(--accent-color);
            color: #fff;
        }
        
        .card-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-main);
        }
        
        .card-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 20px;
            flex-grow: 1;
        }
        
        .btn-launch {
            background-color: var(--text-main);
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            width: 100%;
            cursor: pointer;
            transition: background 0.3s;
            font-family: inherit;
        }
        
        .app-card:hover .btn-launch {
            background-color: var(--accent-color);
        }
        /* --- Footer --- */
        
        .visitor-badge {
            background: var(--primary-color);
            color: #fff;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 10px;
            display: inline-block;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            background: #fff;
            border-top: 1px solid #eee;
        }
        
        .copyright-en {
            font-family: sans-serif;
            font-size: 0.8rem;
            color: #9ca3af;
            margin-top: 5px;
        }
        /* --- Responsive Tweaks --- */
        
        @media (max-width: 600px) {
            header {
                padding: 10px;
            }
            .shop-sign h1 {
                font-size: 1.1rem;
            }
            .shop-sign span {
                font-size: 0.6rem;
            }
            .logo-area,
            .profile-area {
                width: 40px;
                height: 40px;
            }
            .profile-img {
                width: 40px;
                height: 40px;
            }
            .apps-grid {
                grid-template-columns: 1fr;
            }
        }
        /* --- Info Banner Style --- */
        
        .info-banner {
            background: linear-gradient(to left, #ffffff, #eff6ff);
            border: 1px solid #dbeafe;
            border-right: 5px solid var(--accent-color);
            /* الشريط الجانبي الملون */
            border-radius: 12px;
            padding: 20px 25px;
            margin-bottom: 35px;
            /* مسافة تفصله عن التطبيقات */
            display: flex;
            align-items: flex-start;
            gap: 15px;
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .info-banner:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .info-icon {
            flex-shrink: 0;
            color: var(--accent-color);
            margin-top: 3px;
        }
        
        .info-content {
            flex: 1;
        }
        
        .info-title {
            display: block;
            font-weight: 800;
            color: var(--accent-color);
            margin-bottom: 5px;
            font-size: 1.05rem;
        }
        
        .info-text {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.7;
            text-align: justify;
        }
        /* تحسين العرض على الجوال */
        
        @media (max-width: 600px) {
            .info-banner {
                flex-direction: column;
                align-items: center;
                text-align: center;
                padding: 15px;
            }
            .info-text {
                text-align: center;
            }
            .info-icon {
                margin-bottom: 10px;
            }
        }
    </style>
</head>

<body>

    <header>
        <div class="logo-area">
            <!-- <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#2c3e50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
            </svg> -->
            <img src="https://talalcer.github.io/fuel-img/mizan.png" alt="Talal Cerity" class="profile-img">
        </div>

        <div class="shop-sign">

            <h1>أدوات المراجع</h1>
            <img src="https://talalcer.github.io/fuel-img/auditortool.png" alt="Logo" class="sign-logo">
            <h2>Auditor Tools</h2>
        </div>

        <div class="profile-area">


            <img src="https://talalcer.github.io/fuel-img/talal512.png" alt="Talal Cerity" class="profile-img">
            <!-- <img src="https://ui-avatars.com/api/?name=Talal+C&background=f59e0b&color=fff" alt="Talal Cerity" class="profile-img"> -->
        </div>
    </header>

    <main id="appContainer">

        <div class="info-banner">
            <div class="info-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                    <path d="M8 11h8"></path>
                    <path d="M12 15V11"></path>
                </svg>
            </div>
            <div class="info-content">
                <span class="info-title">تنويه هام بشأن الخصوصية والأمان</span>
                <p class="info-text">
                    جميع الأدوات المستخدمة تعمل من خلال الويب، إلا أنها صممت لمعالجة الملفات محلياً على جهاز المستخدم دون رفع أي منها إلى الخوادم الخارجية. ويمكن التحقق من ذلك بسهولة من خلال متابعة العمل بعد فصل الاتصال بالإنترنت، حيث ستستمر الأدوات في أداء مهامها بكفاءة
                    دون تأثر.
                </p>
            </div>
        </div>
        <div class="apps-grid" id="appsGrid">
        </div>
    </main>

    <footer>
        <div>الحقوق محفوظة &copy; طلال السريتي | talalcer@gmail.com</div>
        <div class="copyright-en">Talal Cerity &copy; 2025</div>
        <div class="visitor-badge" id="visitorCounter">الزوار: ...</div>
    </footer>
    <!-- Modern Popup -->
    <div id="modernPopup" class="popup-overlay">
        <div class="popup-box">
            <h2>تشغيل النظام</h2>
            <p id="popupMessage"></p>

            <div class="popup-actions">
                <button id="popupYes">نعم</button>
                <button id="popupNo">إلغاء</button>
            </div>
        </div>
    </div>

    <script>
        class SecurityManager {
            static enableProtection() {
                // ... (كود الحماية الخاص بك كما هو دون تغيير) ...
                document.addEventListener('contextmenu', event => event.preventDefault());
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I') || (e.ctrlKey && e.shiftKey && e.key === 'J') || (e.ctrlKey && e.key === 'U') || (e.ctrlKey && e.key === 'C') || (e.ctrlKey && e.key === 'A')) {
                        if (!e.target.closest('.download-btn')) {
                            e.preventDefault();
                            return false;
                        }
                    }
                });
                document.addEventListener('selectstart', function(e) {
                    if (!e.target.closest('.download-btn')) e.preventDefault();
                });
                // (بقية كود الحماية المستمر في الخلفية)
            }
        }

        // --- التعديل الجوهري هنا ---
        class AppRegistry {
            static async getApps() {
                try {
                    // جلب البيانات من ملف خارجي
                    const response = await fetch('https://talalcer.github.io/myset/talalapps.json');
                    if (!response.ok) throw new Error("لم يتم العثور على ملف البيانات");
                    return await response.json();
                } catch (error) {
                    console.error("Error loading JSON:", error);
                    return []; // مصفوفة فارغة في حال الخطأ
                }
            }
        }

        class UIBuilder {
            constructor(containerId) {
                this.container = document.getElementById(containerId);
            }

            createCard(appData) {
                const card = document.createElement('div');
                card.className = 'app-card';

                card.innerHTML = `
                <div class="card-icon">${appData.icon}</div>
                <h3 class="card-title">${appData.title}</h3>
                <p class="card-desc">${appData.desc}</p>
                <button class="btn-launch">تشغيل الأداة</button>
            `;

                // ربط الضغط على الكرت بفتح البوب أب باستخدام الرابط من الـ JSON
                card.addEventListener('click', () => {
                    if (appData.url === "#") {
                        openFuelPopup("هذه الأداة قيد التطوير حالياً. ترقب المزيد من الأدوات قريباً!", "#");
                    } else {
                        openFuelPopup("هل تريد تشغيل الاداة؟", appData.url);
                    }
                });

                return card;
            }

            render(apps) {
                this.container.innerHTML = '';
                if (apps.length === 0) {
                    this.container.innerHTML = '<p style="text-align:center; grid-column: 1/-1;">عذراً، لا توجد أدوات متاحة حالياً.</p>';
                    return;
                }
                apps.forEach(app => {
                    const cardElement = this.createCard(app);
                    this.container.appendChild(cardElement);
                });
            }
        }

        class AuditorPortal {
            static async init() {
                SecurityManager.enableProtection();

                const ui = new UIBuilder('appsGrid');

                // إظهار رسالة تحميل بسيطة (اختياري)
                document.getElementById('appsGrid').innerHTML = '<p style="text-align:center; grid-column: 1/-1;">جاري تحميل الأدوات...</p>';

                // انتظار جلب البيانات من ملف JSON
                const apps = await AppRegistry.getApps();

                // رندر البيانات
                ui.render(apps);
            }
        }

        function openFuelPopup(message, url) {
            document.getElementById("popupMessage").textContent = message;
            document.getElementById("popupYes").onclick = function() {
                if (url !== "#") window.location.href = url;
                else document.getElementById("modernPopup").style.display = "none";
            };
            document.getElementById("popupNo").onclick = function() {
                document.getElementById("modernPopup").style.display = "none";
            };
            document.getElementById("modernPopup").style.display = "flex";
        }

        document.addEventListener('DOMContentLoaded', AuditorPortal.init);
    </script>
</body>

</html>

